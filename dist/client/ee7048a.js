(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{395:function(t,e,n){"use strict";n.r(e);var r={head:function(){return{title:"Φωτογραφίες Δείγματος Θηλαστικών - Αναζήτηση | Φορέας Διαχείρισης Λίμνης Κερκίνης",meta:[{hid:"description",name:"description",content:"Αναζήτηση Φωτογραφιών συνδεδεμένων με συγκεκριμένο Δείγμα Θηλαστικών για τον Φορέα Διαχείρισης Λίμνης Κερκίνης."}]}},data:function(){return{main:{title:"Αναζήτηση φωτογραφιών δείγματος",emptyElements:"Δεν υπάρχουν αποθηκευμένα δεδομένα"},noElements:null,returnedData:{},numberOfElements:0,loading:null,snackbar:!1,snackbarText:"",snackbarColor:""}},computed:{deigmaId:function(){return this.$route.params.id},getPictures:function(){return this.$store.getters.getPicturesByDeigmaThhlastikwnIdIs},pictureById:function(){return this.$store.getters.getPictureByIdUrl}},mounted:function(){this.restCall()},methods:{goBack:function(){this.$router.push("/thhlastika/deigma-thhlastikwn/"+this.deigmaId)},restCall:function(){var t=this;this.loading=!0,this.$axios.get(this.getPictures+this.deigmaId).then((function(e){0==e.data.length?(t.noElements=!0,t.snackbarColor="red",t.snackbarText="Δεν βρέθηκαν αποθηκευμένα δεδομένα μέσω της αναζήτησης",t.snackbar=!0):(t.noElements=!1,t.numberOfElements=e.data.length,t.returnedData=e.data,t.returnedData.sort((function(a,b){return b.id-a.id})),t.returnedData.forEach((function(picture){picture.url="data:"+picture.typeName+";base64,"+picture.data}))),t.loading=!1})).catch((function(e){throw t.loading=!1,t.snackbarColor="red",t.snackbarText="Υπήρξε κάποιο σφάλμα στην αναζήτηση",t.snackbar=!0,e}))},deletePicture:function(t){var e=this;this.$axios.delete(this.pictureById+t).then((function(t){0==t.data?(e.snackbarColor="red",e.snackbarText="Δεν μπόρεσε να διαγραφεί η φωτογραφία",e.snackbar=!0):1==t.data&&(e.snackbarColor="green",e.snackbarText="Η φωτογραφία διαγράφηκε επιτυχώς",e.snackbar=!0,e.restCall())})).catch((function(t){throw e.snackbarColor="red",e.snackbarText="Δεν μπόρεσε να διαγραφεί η φωτογραφία",e.snackbar=!0,t}))}}},l=n(4),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-btn",{staticClass:"mt-4 mb-3",staticStyle:{"text-transform":"none"},attrs:{dark:"",round:"",color:"light-green lighten-2",title:"Πλοήγηση πίσω στη σελίδα του δείγματος"},on:{click:t.goBack}},[n("v-icon",[t._v("arrow_back_ios")]),t._v("Πίσω")],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[n("h2",{staticClass:"headline"},[t._v(" "+t._s(t.main.title)+" ")])]),t._v(" "),1==t.loading?n("v-flex",{staticClass:"text-xs-center mt-5",attrs:{xs8:"",sm6:"",md2:""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"45",color:"green lighten-1"}})],1):t._e(),t._v(" "),1==t.noElements?n("v-flex",{staticClass:"text-xs-center text-md-left",staticStyle:{"margin-top":"130px"},attrs:{xs12:"",lg11:""}},[n("h3",{staticClass:"font-weight-regular"},[t._v(" "+t._s(t.main.emptyElements)+" ")])]):0==t.noElements?n("v-flex",{staticStyle:{"margin-top":"100px"},attrs:{xs12:"",lg9:""}},[n("div",[n("h3",{staticClass:"my-4 text-xs-center text-md-left font-weight-regular"},[t._v("Σύνολο Φωτογραφιών : "+t._s(this.numberOfElements)+" ")])]),t._v(" "),t._l(t.returnedData,(function(picture){return n("div",{key:picture.id,staticClass:"my-5"},[n("v-card",[n("div",{staticClass:"green lighten-4",staticStyle:{width:"100%",height:"8px"}}),t._v(" "),n("div",{staticClass:"pa-3"},[n("img",{staticClass:"mb-4",staticStyle:{width:"100%"},attrs:{src:picture.url,alt:"Φωτογραφία"}}),t._v(" "),n("v-divider",{staticClass:"mb-4"}),t._v(" "),n("v-layout",[n("h3",{staticClass:"font-weight-medium mt-3"},[t._v("Id: "+t._s(picture.id)+" ")]),t._v(" "),n("v-spacer"),t._v(" "),n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:picture.url,download:picture.pictureName}},[n("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"blue lighten-1",icon:"",flat:"",title:"Λήψη"}},[n("v-icon",{attrs:{medium:""}},[t._v("save_alt")])],1)],1),t._v(" "),n("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"red lighten-1",icon:"",flat:"",title:"Διαγραφή"},on:{click:function(e){return t.deletePicture(picture.id)}}},[n("v-icon",{attrs:{medium:""}},[t._v("delete")])],1)],1)],1)])],1)}))],2):t._e()],1),t._v(" "),n("v-snackbar",{attrs:{timeout:14e3,color:t.snackbarColor,"multi-line":!0,"auto-height":!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[n("p",{staticClass:"pt-2"},[t._v(" "+t._s(t.snackbarText)+" ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);