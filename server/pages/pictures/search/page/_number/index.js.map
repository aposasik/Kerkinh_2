{"version":3,"file":"pages/pictures/search/page/_number/index.js","sources":["webpack:///./pages/pictures/search/page/_number/index.vue?5c9f","webpack:///./pages/pictures/search/page/_number/index.vue","webpack:///./pages/pictures/search/page/_number/index.vue?5a64","webpack:///./pages/pictures/search/page/_number/index.vue?53a1"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs12\":\"\",\"mt-5\":\"\"}},[_c('h2',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.main.title)+\" \")])]),_vm._v(\" \"),(_vm.loading == true)?_c('v-flex',{staticClass:\"text-xs-center mt-5\",attrs:{\"xs8\":\"\",\"sm6\":\"\",\"md2\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"45\",\"color\":\"green lighten-1\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.noElements == true)?_c('v-flex',{staticClass:\"text-xs-center text-md-left\",staticStyle:{\"margin-top\":\"130px\"},attrs:{\"xs12\":\"\",\"lg11\":\"\"}},[_c('h3',{staticClass:\"font-weight-regular\"},[_vm._v(\" \"+_vm._s(_vm.main.emptyElements)+\" \")])]):(_vm.noElements == false)?_c('v-flex',{staticStyle:{\"margin-top\":\"100px\"},attrs:{\"xs12\":\"\",\"lg9\":\"\"}},[_c('div',[_c('h3',{staticClass:\"my-4 text-xs-center text-md-left font-weight-regular\"},[_vm._v(\"Σύνολο Φωτογραφιών : \"+_vm._s(this.returnedData.totalElements)+\" \")])]),_vm._v(\" \"),_vm._l((_vm.returnedData.content),function(picture){return _c('div',{key:picture.id,staticClass:\"my-5\"},[_c('v-card',[_c('div',{staticClass:\"green lighten-4\",staticStyle:{\"width\":\"100%\",\"height\":\"8px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"pa-3\"},[_c('img',{staticClass:\"mb-4\",staticStyle:{\"width\":\"100%\"},attrs:{\"src\":picture.url,\"alt\":\"Φωτογραφία\"}}),_vm._v(\" \"),_c('v-divider',{staticClass:\"mb-4\"}),_vm._v(\" \"),_c('v-layout',[_c('h3',{staticClass:\"font-weight-medium mt-3\"},[_vm._v(\"Id: \"+_vm._s(picture.id)+\" \")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('a',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":picture.url,\"download\":picture.pictureName}},[_c('v-btn',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"color\":\"blue lighten-1\",\"icon\":\"\",\"flat\":\"\",\"title\":\"Λήψη\"}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\"save_alt\")])],1)],1),_vm._v(\" \"),_c('v-btn',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"color\":\"red lighten-1\",\"icon\":\"\",\"flat\":\"\",\"title\":\"Διαγραφή\"},on:{\"click\":function($event){return _vm.deletePicture(picture.id)}}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\"delete\")])],1)],1)],1)])],1)}),_vm._v(\" \"),(_vm.noElements == false)?_c('div',{staticStyle:{\"margin-top\":\"100px\",\"margin-bottom\":\"20px\"}},[_c('v-layout',[_c('v-btn',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"disabled\":!_vm.prevPage,\"color\":\"green\",\"flat\":\"\",\"title\":\"Προηγούμενη σελίδα\"},on:{\"click\":_vm.getPrevPage}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"arrow_back\")]),_vm._v(\"\\n            Σελίδα\\n          \")],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"disabled\":!_vm.nextPage,\"color\":\"green\",\"flat\":\"\",\"title\":\"Επόμενη σελίδα\"},on:{\"click\":_vm.getNextPage}},[_vm._v(\"\\n            Σελίδα\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"arrow_forward\")])],1)],1)],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"timeout\":14000,\"color\":_vm.snackbarColor,\"multi-line\":true,\"auto-height\":true},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  head() {\r\n    return {\r\n      title: 'Φωτογραφίες - Αναζήτηση | Φορέας Διαχείρισης Λίμνης Κερκίνης',\r\n      meta: [\r\n        {\r\n          hid: 'description', name: 'description',\r\n          content: 'Αναζήτηση (δεδομένων) Φωτογραφιών για τον Φορέα Διαχείρισης Λίμνης Κερκίνης.'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      main: {\r\n        title: 'Αναζήτηση Φωτογραφιών',\r\n        emptyElements: 'Δεν υπάρχουν αποθηκευμένα δεδομένα'\r\n      },\r\n      noElements: null,\r\n      returnedData: {},\r\n      page: null,\r\n      numberOfElements: 0,\r\n      prevPage: false,\r\n      nextPage: false,\r\n      totalPages: 0,\r\n      totalElements: 0,\r\n      size: null,\r\n\r\n      loading: null,\r\n      snackbar: false,\r\n      snackbarText: '',\r\n      snackbarColor: '',\r\n    }\r\n  },\r\n  computed: {\r\n    paramPage(){\r\n      return Number(this.$route.params.number)\r\n    },\r\n    currentPage(){\r\n      return this.$route.params.number - 1\r\n    },\r\n    getPictures(){\r\n      return this.$store.getters.getPicturesSearchUrl\r\n    },\r\n    pictureById(){\r\n      return this.$store.getters.getPictureByIdUrl\r\n    },\r\n  },\r\n  mounted() {\r\n    this.restCall(this.currentPage)\r\n  },\r\n  methods: {\r\n    checkForPrevPage(pageNumber) {\r\n      if( pageNumber == 0 ) {\r\n        this.prevPage = false\r\n      } else {\r\n        this.prevPage = true\r\n      }\r\n    },\r\n    checkForNextPage(last) {\r\n      if( last == true ) {\r\n        this.nextPage = false\r\n      } else {\r\n        this.nextPage = true\r\n      }\r\n    },\r\n    restCall(page) {\r\n      this.loading = true\r\n      this.$axios.get(this.getPictures + page)\r\n        .then((response) => {\r\n          if( response.data.totalElements == 0 ){\r\n            this.noElements = true\r\n            this.snackbarColor = 'red'\r\n            this.snackbarText = 'Δεν βρέθηκαν αποθηκευμένα δεδομένα μέσω της αναζήτησης'\r\n            this.snackbar = true\r\n          } else if ( response.data.totalElements != 0 && response.data.numberOfElements == 0) {\r\n              this.noElements = true\r\n          } else {\r\n            this.noElements = false\r\n            this.returnedData = response.data\r\n            // Checking for prevPage\r\n            this.checkForPrevPage(response.data.pageable.pageNumber)\r\n            // Checking for nextPage\r\n            this.checkForNextPage(response.data.last)\r\n            // Creating a new property for each returnedData 's picture, the url through the byte array data\r\n            this.returnedData.content.forEach(picture => {\r\n              picture.url = \"data:\" + picture.typeName + \";base64,\" + picture.data\r\n            })\r\n            this.loading = false\r\n          }\r\n        }).catch((err) => {\r\n          this.loading = false\r\n          this.snackbarColor = 'red'\r\n          this.snackbarText = 'Υπήρξε κάποιο σφάλμα στην αναζήτηση'\r\n          this.snackbar = true\r\n          throw err\r\n        })\r\n    },\r\n    deletePicture(pictureId){\r\n      this.$axios.delete(this.pictureById + pictureId)\r\n        .then((response) => {\r\n          if( response.data == false ){\r\n            this.snackbarColor = 'red'\r\n            this.snackbarText = 'Δεν μπόρεσε να διαγραφεί η φωτογραφία'\r\n            this.snackbar = true\r\n          } else if( response.data == true ) {\r\n            this.snackbarColor = 'green'\r\n            this.snackbarText = 'Το αρχείο διαγράφηκε επιτυχώς'\r\n            this.snackbar = true\r\n            // Re-calling the getPictures Method after the deletion\r\n            this.restCall(this.currentPage)\r\n          }\r\n        }).catch((err) => {\r\n          this.snackbarColor = 'red'\r\n          this.snackbarText = 'Δεν μπόρεσε να διαγραφεί η φωτογραφία'\r\n          this.snackbar = true\r\n          throw err\r\n        })\r\n    },\r\n    getPrevPage() {\r\n      this.$router.push('/pictures/search/page/' + (this.paramPage - 1))\r\n    },\r\n    getNextPage() {\r\n      this.$router.push('/pictures/search/page/' + (this.paramPage + 1))\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0a8b1e54&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"5c95a742\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAFA;AAHA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAlBA;AAoBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAbA;AACA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA1EA;AAnDA;;ACnEA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}