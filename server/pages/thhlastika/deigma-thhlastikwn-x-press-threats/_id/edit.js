exports.ids = [72];
exports.modules = {

/***/ 234:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./pages/thhlastika/deigma-thhlastikwn-x-press-threats/_id/edit.vue?vue&type=template&id=6fed1f3e&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{"fluid":""}},[_c('v-layout',{attrs:{"row":"","wrap":"","align-center":"","justify-center":""}},[_c('v-flex',{staticClass:"text-xs-center",attrs:{"xs12":"","mt-5":""}},[_c('h2',{staticClass:"headline"},[_vm._v(" "+_vm._s(_vm.main.title)+" ")])]),_vm._v(" "),(_vm.loading == true)?_c('v-flex',{staticClass:"text-xs-center mt-5",attrs:{"xs8":"","sm6":"","md2":""}},[_c('v-progress-circular',{attrs:{"indeterminate":"","size":"45","color":"green lighten-1"}})],1):_vm._e(),_vm._v(" "),(_vm.noElements == true)?_c('v-flex',{staticClass:"text-xs-center text-md-left",staticStyle:{"margin-top":"130px"},attrs:{"xs12":"","lg11":""}},[_c('h3',{staticClass:"font-weight-regular"},[_vm._v(" "+_vm._s(_vm.main.emptyElements)+" ")])]):(_vm.noElements == false)?_c('v-flex',{staticStyle:{"margin-top":"100px"},attrs:{"xs12":"","lg10":""}},[_c('div',{staticClass:"my-5"},[_c('v-card',[_c('div',{staticClass:"green lighten-4",staticStyle:{"width":"100%","height":"7px"}}),_vm._v(" "),_c('v-form',{ref:"form",staticClass:"pa-4",model:{value:(_vm.validation),callback:function ($$v) {_vm.validation=$$v},expression:"validation"}},[_c('v-layout',{attrs:{"wrap":"","justify-space-around":""}},[_c('v-flex',{attrs:{"xs12":"","md4":"","my-4":""}},[_c('v-text-field',{attrs:{"label":"Δείγμα Θηλαστικών Id","color":"green","rules":_vm.deigmaThhlastikwnIdRules,"required":""},model:{value:(_vm.deigmaXPressThreat.deigmaThhlastikwn.id),callback:function ($$v) {_vm.$set(_vm.deigmaXPressThreat.deigmaThhlastikwn, "id", $$v)},expression:"deigmaXPressThreat.deigmaThhlastikwn.id"}})],1),_vm._v(" "),_c('v-flex',{attrs:{"xs12":"","md4":"","my-4":""}},[_c('v-autocomplete',{attrs:{"label":"Ct Πίεσης","color":"green","items":_vm.ctActCodesList,"rules":_vm.ctActCodeRules,"no-data-text":"Δεν βρέθηκαν δεδομένα","required":""},model:{value:(_vm.deigmaXPressThreat.ctThhlastikaPressThreats.actCode),callback:function ($$v) {_vm.$set(_vm.deigmaXPressThreat.ctThhlastikaPressThreats, "actCode", $$v)},expression:"deigmaXPressThreat.ctThhlastikaPressThreats.actCode"}})],1)],1),_vm._v(" "),_c('v-layout',{attrs:{"wrap":"","justify-space-around":""}},[_c('v-flex',{attrs:{"xs12":"","md4":"","lg3":"","my-4":""}},[_c('v-text-field',{attrs:{"label":"Κωδικός είδους","color":"green","counter":50,"rules":_vm.kwdikosEidousRules},model:{value:(_vm.deigmaXPressThreat.kwdikosEidous),callback:function ($$v) {_vm.$set(_vm.deigmaXPressThreat, "kwdikosEidous", $$v)},expression:"deigmaXPressThreat.kwdikosEidous"}})],1),_vm._v(" "),_c('v-flex',{attrs:{"xs12":"","md4":"","lg3":"","my-4":""}},[_c('v-text-field',{attrs:{"label":"Τύπος πίεσης","color":"green","counter":50,"rules":_vm.pressThreatRules},model:{value:(_vm.deigmaXPressThreat.pressThreat),callback:function ($$v) {_vm.$set(_vm.deigmaXPressThreat, "pressThreat", $$v)},expression:"deigmaXPressThreat.pressThreat"}})],1),_vm._v(" "),_c('v-flex',{attrs:{"xs12":"","md6":"","lg3":"","my-4":""}},[_c('v-text-field',{attrs:{"label":"Σημασία","color":"green","counter":50,"rules":_vm.importanceRules},model:{value:(_vm.deigmaXPressThreat.importance),callback:function ($$v) {_vm.$set(_vm.deigmaXPressThreat, "importance", $$v)},expression:"deigmaXPressThreat.importance"}})],1)],1),_vm._v(" "),_c('v-layout',{attrs:{"justify-space-around":""}},[_c('h3',{staticClass:"font-weight-medium mt-2"},[_vm._v("Id: "+_vm._s(_vm.id)+" ")]),_vm._v(" "),_c('v-spacer'),_vm._v(" "),_c('v-btn',{staticStyle:{"text-transform":"none"},attrs:{"color":"light-green lighten-1","dark":""},on:{"click":function($event){return _vm.saveChanges()}}},[_vm._v("Αποθήκευση αλλαγών "),_c('v-icon',{attrs:{"small":"","right":""}},[_vm._v("save")])],1)],1)],1)],1)],1)]):_vm._e()],1),_vm._v(" "),_c('v-snackbar',{attrs:{"timeout":14000,"color":_vm.snackbarColor,"multi-line":true,"auto-height":true},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:"snackbar"}},[_c('p',{staticClass:"pt-2"},[_vm._v(" "+_vm._s(_vm.snackbarText)+" ")])])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/thhlastika/deigma-thhlastikwn-x-press-threats/_id/edit.vue?vue&type=template&id=6fed1f3e&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/thhlastika/deigma-thhlastikwn-x-press-threats/_id/edit.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var editvue_type_script_lang_js_ = ({
  head() {
    return {
      title: 'Δειγματοληψία Χ Πίεσης Θηλαστικών - Επεξεργασία | Φορέας Διαχείρισης Λίμνης Κερκίνης',
      meta: [{
        hid: 'description',
        name: 'description',
        content: 'Επεξεργασία συγκεκριμένης Δειγματοληψίας Χ Πίεσης Θηλαστικών για τη διαχείρηση δεδομένων των Δειγματοληψιών Χ Πιέσεων Θηλαστικών για τον Φορέα Διαχείρισης Λίμνης Κερκίνης.'
      }]
    };
  },

  data() {
    return {
      main: {
        title: 'Αναζήτηση Δείγματος X Πίεσης με id ' + this.$route.params.id,
        emptyElements: 'Δεν βρέθηκε αποθηκευμένο το Δείγμα X Πίεσης που επιθυμείτε'
      },
      noElements: null,
      deigmaXPressThreat: {
        id: '',
        deigmaThhlastikwn: {
          id: ''
        },
        ctThhlastikaPressThreats: {
          actCode: ''
        },
        kwdikosEidous: '',
        pressThreat: '',
        importance: ''
      },
      returnedObject: {
        id: '',
        deigmaThhlastikwn: {
          id: ''
        },
        ctThhlastikaPressThreats: {
          actCode: ''
        },
        kwdikosEidous: null,
        pressThreat: null,
        importance: null
      },
      ctActCodesList: [],
      validation: false,
      deigmaThhlastikwnIdRules: [v => !!v || 'Συμπληρώστε το πεδίο Δείγματος θηλαστικού', v => !isNaN(v) || 'Το πεδίο πρέπει να είναι αριθμός'],
      ctActCodeRules: [v => !!v || 'Συμπληρώστε το πεδίο Ct Τύπου Πίεσης', v => v.length <= 50 || 'Το πεδίο πρέπει να είναι λιγότερο από 50 χαρακτήρες'],
      kwdikosEidousRules: [v => v.length <= 50 || 'Το πεδίο πρέπει να είναι λιγότερο από 50 χαρακτήρες'],
      pressThreatRules: [v => v.length <= 50 || 'Το πεδίο πρέπει να είναι λιγότερο από 50 χαρακτήρες'],
      importanceRules: [v => v.length <= 50 || 'Το πεδίο πρέπει να είναι λιγότερο από 50 χαρακτήρες'],
      loading: null,
      snackbar: false,
      snackbarText: '',
      snackbarColor: ''
    };
  },

  computed: {
    // Getting the distinct Ct Eidh for autocomplete list
    getDistinctUrl() {
      return this.$store.getters.getThhlastikaCtPressThreatsDistinctUrl;
    },

    getByIdUrl() {
      return this.$store.getters.getThhlastikaXPressThreatsByIdUrl;
    },

    id() {
      return this.$route.params.id;
    }

  },

  mounted() {
    this.restCall(this.id); // Getting CtActCodes

    this.getCtActCodes();
  },

  methods: {
    // Getting CtActCodes for select lists
    getCtActCodes() {
      this.$axios.get(this.getDistinctUrl).then(response => {
        if (response.data.length == []) {
          this.snackbarColor = 'red';
          this.snackbarText = 'Δεν βρέθηκαν αποθηκευμένα Ct Πίεσης.';
          this.snackbar = true;
        } else {
          // Filling the CtActCodes list for the user
          this.ctActCodesList = response.data;
        }
      }).catch(err => {
        this.snackbarColor = 'red';
        this.snackbarText = 'Υπήρξε κάποιο σφάλμα κατά την εύρεση Ct Πίεσης.';
        this.snackbar = true;
        throw err;
      });
    },

    // Timeout the submit method and re-validate
    submitTimeout() {
      this.validation = false;
      setTimeout(() => {
        this.validation = this.$refs.form.validate();
      }, 10000);
    },

    checkForNulls(data) {
      if (data.deigmaThhlastikwn != null && data.ctThhlastikaPressThreats != null && data.kwdikosEidous != null && data.pressThreat != null && data.importance != null && data.fulo != null && data.plhthos != null && data.eokParII != null && data.eokParIV != null && data.eokParV != null) {
        // IMPORTANT: Using  JSON.parse to pass by value instead of pass by reference
        this.deigmaXPressThreat = JSON.parse(JSON.stringify(data));
        this.returnedObject = JSON.parse(JSON.stringify(data));
      } else {
        if (data.deigmaThhlastikwn != null) {
          this.deigmaXPressThreat.deigmaThhlastikwn.id = JSON.parse(JSON.stringify(data.deigmaThhlastikwn.id));
          this.returnedObject.deigmaThhlastikwn.id = JSON.parse(JSON.stringify(data.deigmaThhlastikwn.id));
        }

        if (data.ctThhlastikaPressThreats != null) {
          this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode = JSON.parse(JSON.stringify(data.ctThhlastikaPressThreats.actCode));
          this.returnedObject.ctThhlastikaPressThreats.actCode = JSON.parse(JSON.stringify(data.ctThhlastikaPressThreats.actCode));
        }

        if (data.kwdikosEidous != null) {
          this.deigmaXPressThreat.kwdikosEidous = JSON.parse(JSON.stringify(data.kwdikosEidous));
          this.returnedObject.kwdikosEidous = JSON.parse(JSON.stringify(data.kwdikosEidous));
        }

        if (data.pressThreat != null) {
          this.deigmaXPressThreat.pressThreat = JSON.parse(JSON.stringify(data.pressThreat));
          this.returnedObject.pressThreat = JSON.parse(JSON.stringify(data.pressThreat));
        }

        if (data.importance != null) {
          this.deigmaXPressThreat.importance = JSON.parse(JSON.stringify(data.importance));
          this.returnedObject.importance = JSON.parse(JSON.stringify(data.importance));
        }
      }
    },

    restCall(id) {
      this.loading = true;
      this.$axios.get(this.getByIdUrl + id).then(response => {
        if (response.data == "") {
          this.noElements = true;
          this.snackbarColor = 'red';
          this.snackbarText = 'Δεν βρέθηκε αποθηκευμένο το Δείγμα X Πίεσης που επιθυμείτε';
          this.snackbar = true;
        } else {
          // Check for nulls in the returned data
          this.checkForNulls(response.data);
          this.noElements = false;
        }

        this.loading = false;
      }).catch(err => {
        this.loading = false;
        this.snackbarColor = 'red';
        this.snackbarText = 'Υπήρξε κάποιο σφάλμα στην αναζήτηση του Δείγμα X Πίεσης';
        this.snackbar = true;
        throw err;
      });
    },

    // Checking if the user is submitting to send the same data
    checkForSavingTheSame() {
      if ((this.deigmaXPressThreat.deigmaThhlastikwn.id == this.returnedObject.deigmaThhlastikwn.id || this.deigmaXPressThreat.deigmaThhlastikwn.id == '' && this.returnedObject.deigmaThhlastikwn.id == null) && (this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode == this.returnedObject.ctThhlastikaPressThreats.actCode || this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode == '' && this.returnedObject.ctThhlastikaPressThreats.actCode == null) && (this.deigmaXPressThreat.kwdikosEidous == this.returnedObject.kwdikosEidous || this.deigmaXPressThreat.kwdikosEidous == '' && this.returnedObject.kwdikosEidous == null) && (this.deigmaXPressThreat.pressThreat == this.returnedObject.pressThreat || this.deigmaXPressThreat.pressThreat == '' && this.returnedObject.pressThreat == null) && (this.deigmaXPressThreat.importance == this.returnedObject.importance || this.deigmaXPressThreat.importance == '' && this.returnedObject.importance == null)) {
        return true;
      }
    },

    // Checking for the values that will be Patched after the user's changes
    checkValuesOfSendingData() {
      let patchedDeigmaX = {}; // Elses not needed on the checks because sending without the attribute will generate on the back end the null value for it which will be overpassed without persisting (through my checking)
      // Checks of types are being done without `typeof` because the v-model's value changes to String when the user Backspaces the id to type the new one which will be as : '3'. It still works normally but can't use typeof.

      if (this.deigmaXPressThreat.deigmaThhlastikwn.id === '' && this.returnedObject.deigmaThhlastikwn.id != null) {
        patchedDeigmaX.deigmaThhlastikwnId = '';
      } else if (this.deigmaXPressThreat.deigmaThhlastikwn.id != this.returnedObject.deigmaThhlastikwn.id) {
        patchedDeigmaX.deigmaThhlastikwnId = this.deigmaXPressThreat.deigmaThhlastikwn.id;
      }

      if (this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode == '' && this.returnedObject.ctThhlastikaPressThreats.actCode != null) {
        patchedDeigmaX.ctActCode = '';
      } else if (this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode != '' && this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode != this.returnedObject.ctThhlastikaPressThreats.actCode) {
        patchedDeigmaX.ctActCode = this.deigmaXPressThreat.ctThhlastikaPressThreats.actCode;
      }

      if (this.deigmaXPressThreat.kwdikosEidous == '' && this.returnedObject.kwdikosEidous != null) {
        patchedDeigmaX.kwdikosEidous = '';
      } else if (this.deigmaXPressThreat.kwdikosEidous != '' && this.deigmaXPressThreat.kwdikosEidous != this.returnedObject.kwdikosEidous) {
        patchedDeigmaX.kwdikosEidous = this.deigmaXPressThreat.kwdikosEidous;
      }

      if (this.deigmaXPressThreat.pressThreat == '' && this.returnedObject.pressThreat != null) {
        patchedDeigmaX.pressThreat = '';
      } else if (this.deigmaXPressThreat.pressThreat != '' && this.deigmaXPressThreat.pressThreat != this.returnedObject.pressThreat) {
        patchedDeigmaX.pressThreat = this.deigmaXPressThreat.pressThreat;
      }

      if (this.deigmaXPressThreat.importance == '' && this.returnedObject.importance != null) {
        patchedDeigmaX.importance = '';
      } else if (this.deigmaXPressThreat.importance != '' && this.deigmaXPressThreat.importance != this.returnedObject.importance) {
        patchedDeigmaX.importance = this.deigmaXPressThreat.importance;
      }

      return patchedDeigmaX;
    },

    saveChanges() {
      // Checking for the values that will be Patched after the user's changes
      if (this.checkForSavingTheSame() == true) {
        this.snackbarColor = 'red';
        this.snackbarText = 'Δεν πραγματοποιήσατε καμία αλλαγή στα πεδία';
        this.snackbar = true;
      } else {
        // Checking for null - '' values and doing the request
        let patchedDeigmaX = this.checkValuesOfSendingData();
        this.$axios.patch(this.getByIdUrl + this.id, patchedDeigmaX).then(response => {
          if (response.data == false) {
            this.snackbarColor = 'red';
            this.snackbarText = 'Οι αλλαγές δεν μπόρεσαν να αποθηκευθούν';
            this.snackbar = true;
          } else if (response.data == true) {
            this.snackbarColor = 'green';
            this.snackbarText = 'Οι αλλαγές σας αποθηκεύθηκαν επιτυχώς';
            this.snackbar = true;
            this.$router.push('/thhlastika/deigma-thhlastikwn-x-press-threats/' + this.id);
          } // Not checking for any other value because there shouldn't exist any different case

        }).catch(err => {
          this.snackbarColor = 'red';
          this.snackbarText = 'Οι αλλαγές δεν μπόρεσαν να αποθηκευθούν';
          this.snackbar = true; // Timeout the submit method and re-validate

          this.submitTimeout();
          throw err;
        });
      }
    }

  }
});
// CONCATENATED MODULE: ./pages/thhlastika/deigma-thhlastikwn-x-press-threats/_id/edit.vue?vue&type=script&lang=js&
 /* harmony default export */ var _id_editvue_type_script_lang_js_ = (editvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/thhlastika/deigma-thhlastikwn-x-press-threats/_id/edit.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  _id_editvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "533f116f"
  
)

/* harmony default export */ var edit = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=edit.js.map